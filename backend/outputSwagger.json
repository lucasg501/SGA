{
  "openapi": "3.0.0",
  "info": {
    "version": "1.0.0",
    "title": "REST API",
    "description": ""
  },
  "servers": [
    {
      "url": "http://localhost:4000/"
    }
  ],
  "paths": {
    "/usuarios/listarChave": {
      "get": {
        "tags": [
          "Usuarios"
        ],
        "summary": "Lista os usuarios cadastrados",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/usuarios/obter/{idUsuario}": {
      "get": {
        "tags": [
          "Usuarios"
        ],
        "summary": "Obtem um usuario cadastrado",
        "description": "",
        "parameters": [
          {
            "name": "idUsuario",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/usuarios/gravarChave": {
      "post": {
        "tags": [
          "Usuarios"
        ],
        "summary": "Adiciona uma chave pix",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/usuario"
              }
            }
          }
        }
      }
    },
    "/usuarios/autenticar": {
      "post": {
        "tags": [
          "Usuarios"
        ],
        "summary": "Autenticação de login",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/usuario"
              }
            }
          }
        }
      }
    },
    "/contratos/listar": {
      "get": {
        "tags": [
          "Contratos"
        ],
        "summary": "Lista os contratos cadastrados",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/contratos/obter/{idContrato}": {
      "get": {
        "tags": [
          "Contratos"
        ],
        "summary": "Obtem um contrato cadastrado",
        "description": "",
        "parameters": [
          {
            "name": "idContrato",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/contratos/gravar": {
      "post": {
        "tags": [
          "Contratos"
        ],
        "summary": "Adiciona um contrato",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/contrato"
              }
            }
          }
        }
      }
    },
    "/contratos/alterar": {
      "put": {
        "tags": [
          "Contratos"
        ],
        "summary": "Altera um contrato",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/contrato"
              }
            }
          }
        }
      }
    },
    "/contratos/excluir/{idContrato}": {
      "delete": {
        "tags": [
          "Contratos"
        ],
        "summary": "Exclui um contrato",
        "description": "",
        "parameters": [
          {
            "name": "idContrato",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/aluguel/listar": {
      "get": {
        "tags": [
          "Alugueis"
        ],
        "summary": "Lista os alugueis cadastrados",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/aluguel/obter/{idAluguel}": {
      "get": {
        "tags": [
          "Alugueis"
        ],
        "summary": "Obtem um aluguel cadastrado",
        "description": "",
        "parameters": [
          {
            "name": "idAluguel",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/aluguel/obterAlugueis/{cpfLocatario}": {
      "get": {
        "tags": [
          "Alugueis"
        ],
        "summary": "Obtem os alugueis cadastrados por meio do cpf do locador",
        "description": "",
        "parameters": [
          {
            "name": "cpfLocatario",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/aluguel/obterPorContrato/{idContrato}": {
      "get": {
        "tags": [
          "Alugueis"
        ],
        "summary": "Obtem um aluguel cadastrado por meio do id do contrato",
        "description": "",
        "parameters": [
          {
            "name": "idContrato",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/aluguel/gravar": {
      "post": {
        "tags": [
          "Alugueis"
        ],
        "summary": "Adiciona um aluguel",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/aluguel"
              }
            }
          }
        }
      }
    },
    "/aluguel/alterar": {
      "put": {
        "tags": [
          "Alugueis"
        ],
        "summary": "Altera um aluguel",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/aluguel"
              }
            }
          }
        }
      }
    },
    "/aluguel/marcarPago": {
      "post": {
        "tags": [
          "Alugueis"
        ],
        "summary": "Marca um aluguel como quitado",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/aluguel"
              }
            }
          }
        }
      }
    },
    "/aluguel/excluir/{idContrato}": {
      "delete": {
        "tags": [
          "Alugueis"
        ],
        "summary": "Exclui um aluguel",
        "description": "",
        "parameters": [
          {
            "name": "idContrato",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/imovel/listar": {
      "get": {
        "tags": [
          "Imoveis"
        ],
        "summary": "Lista os imoveis cadastrados",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/imovel/obter/{idImovel}": {
      "get": {
        "tags": [
          "Imoveis"
        ],
        "summary": "Obtem um imovel cadastrado",
        "description": "",
        "parameters": [
          {
            "name": "idImovel",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/imovel/gravar": {
      "post": {
        "tags": [
          "Imoveis"
        ],
        "summary": "Adiciona o proprietario e locador de um imovel",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/imovel"
              }
            }
          }
        }
      }
    },
    "/locador/listar": {
      "get": {
        "tags": [
          "Locadores"
        ],
        "summary": "Lista os locadores cadastrados",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/locador/obter/{idLocador}": {
      "get": {
        "tags": [
          "Locadores"
        ],
        "summary": "Obtem um locador cadastrado",
        "description": "",
        "parameters": [
          {
            "name": "idLocador",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/locador/obterPorId/{idLocador}": {
      "get": {
        "tags": [
          "Locadores"
        ],
        "summary": "Obtem um locador cadastrado por meio do id",
        "description": "",
        "parameters": [
          {
            "name": "idLocador",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/locatario/listar": {
      "get": {
        "tags": [
          "Locatarios"
        ],
        "summary": "Lista os locatarios cadastrados",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/locatario/obter/{idLocatario}": {
      "get": {
        "tags": [
          "Locatarios"
        ],
        "summary": "Obtem um locatario cadastrado",
        "description": "",
        "parameters": [
          {
            "name": "idLocatario",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/tiposPix/listar": {
      "get": {
        "tags": [
          "TiposPix"
        ],
        "summary": "Lista os tiposPix cadastrados",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/tiposPix/obter/idTipo/{idTipo}": {
      "get": {
        "tags": [
          "TiposPix"
        ],
        "summary": "Obtem um tiposPix cadastrado",
        "description": "",
        "parameters": [
          {
            "name": "idTipo",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/pagamentoAvulso/listar": {
      "get": {
        "tags": [
          "PagamentoAvulso"
        ],
        "summary": "Lista os pagamentoAvulso cadastrados",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/pagamentoAvulso/obter/{idPagamentoAvulso}": {
      "get": {
        "tags": [
          "PagamentoAvulso"
        ],
        "summary": "Obtem um pagamentoAvulso cadastrado",
        "description": "",
        "parameters": [
          {
            "name": "idPagamentoAvulso",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/pagamentoAvulso/obterPorContrato/{idContrato}": {
      "get": {
        "tags": [
          "PagamentoAvulso"
        ],
        "summary": "Obtem um pagamentoAvulso cadastrado por meio do id do contrato",
        "description": "",
        "parameters": [
          {
            "name": "idContrato",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/pagamentoAvulso/gravar": {
      "post": {
        "tags": [
          "PagamentoAvulso"
        ],
        "summary": "Adiciona um pagamentoAvulso",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/pagamentoAvulso"
              }
            }
          }
        }
      }
    },
    "/pagamentoAvulso/marcarPago": {
      "post": {
        "tags": [
          "PagamentoAvulso"
        ],
        "summary": "Marca um pagamentoAvulso como quitado",
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/pagamentoAvulso"
              }
            }
          }
        }
      }
    },
    "/pagamentoAvulso/excluir/{idPagamentoAvulso}": {
      "delete": {
        "tags": [
          "PagamentoAvulso"
        ],
        "summary": "Exclui um pagamentoAvulso",
        "description": "",
        "parameters": [
          {
            "name": "idPagamentoAvulso",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/pix/payload/{idAluguel}": {
      "get": {
        "tags": [
          "QrCodePix"
        ],
        "summary": "Retorna JSON com payload e metadados",
        "description": "",
        "parameters": [
          {
            "name": "idAluguel",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/pix/qrcode/{idAluguel.png}": {
      "get": {
        "tags": [
          "QrCodePix"
        ],
        "summary": "Retorna imagem PNG do QR Code",
        "description": "",
        "parameters": [
          {
            "name": "idAluguel.png",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/pix/payload/avulso/{idPagamento}": {
      "get": {
        "tags": [
          "QrCodePix"
        ],
        "summary": "Retorna JSON com payload e metadados do pagamento avulso",
        "description": "",
        "parameters": [
          {
            "name": "idPagamento",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/pix/qrcode/avulso/{idPagamento.png}": {
      "get": {
        "tags": [
          "QrCodePix"
        ],
        "summary": "Retorna imagem PNG do QR Code do pagamento avulso",
        "description": "",
        "parameters": [
          {
            "name": "idPagamento.png",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "usuario": {
        "type": "object",
        "properties": {
          "idUsuario": {
            "type": "number",
            "example": 1
          },
          "login": {
            "type": "string",
            "example": "alfredo"
          },
          "senha": {
            "type": "string",
            "example": "123"
          },
          "chavePix": {
            "type": "string",
            "example": "pix@gmail.com"
          },
          "nomePix": {
            "type": "string",
            "example": "fetucicio"
          },
          "cidade": {
            "type": "string",
            "example": "rio de janeiro"
          },
          "tipoPix": {
            "type": "number",
            "example": 1
          }
        }
      },
      "contrato": {
        "type": "object",
        "properties": {
          "idContrato": {
            "type": "number",
            "example": 0
          },
          "idImovel": {
            "type": "number",
            "example": 1
          },
          "idLocatario": {
            "type": "number",
            "example": 1
          },
          "idLocador": {
            "type": "number",
            "example": 1
          },
          "qtdParcelas": {
            "type": "number",
            "example": 12
          },
          "valorParcela": {
            "type": "number",
            "example": 1000
          },
          "dataVencimento": {
            "type": "string",
            "example": "02/14/2025"
          },
          "inicioVigenciaContrato": {
            "type": "undefined"
          },
          "fimVigenciaContrato": {
            "type": "undefined"
          }
        }
      },
      "aluguel": {
        "type": "object",
        "properties": {
          "idAluguel": {
            "type": "number",
            "example": 0
          },
          "valorAluguel": {
            "type": "number",
            "example": 1000
          },
          "quitada": {
            "type": "string",
            "example": "N"
          },
          "idContrato": {
            "type": "number",
            "example": 1
          },
          "idLocador": {
            "type": "number",
            "example": 1
          },
          "idLocatario": {
            "type": "string",
            "example": "02/14/2025"
          },
          "dataVencimento": {
            "type": "undefined"
          }
        }
      },
      "imovel": {
        "type": "object",
        "properties": {
          "idImovel": {
            "type": "number",
            "example": 0
          },
          "refImovel": {
            "type": "string",
            "example": "AP1010"
          },
          "valorAluguel": {
            "type": "number",
            "example": 1000
          },
          "idLocatario": {
            "type": "number",
            "example": 1
          },
          "idLocador": {
            "type": "number",
            "example": 1
          }
        }
      },
      "locador": {
        "type": "object",
        "properties": {
          "idLocador": {
            "type": "number",
            "example": 1
          },
          "cpfLocador": {
            "type": "string",
            "example": "111.111.111-11"
          },
          "nomeLocador": {
            "type": "string",
            "example": "Alfredo"
          }
        }
      },
      "locatario": {
        "type": "object",
        "properties": {
          "idLocatario": {
            "type": "number",
            "example": 1
          },
          "nomeLocatario": {
            "type": "string",
            "example": "111.111.111-11"
          },
          "cpfLocatario": {
            "type": "string",
            "example": "Rodolfinho"
          }
        }
      },
      "tiposPix": {
        "type": "object",
        "properties": {
          "idTipo": {
            "type": "number",
            "example": 1
          },
          "nomeTipo": {
            "type": "string",
            "example": "Telefone"
          }
        }
      },
      "pagamentoAvulso": {
        "type": "object",
        "properties": {
          "idPagamento": {
            "type": "number",
            "example": 1
          },
          "valorPagamento": {
            "type": "number",
            "example": 1000
          },
          "dataPagamento": {
            "type": "string",
            "example": "2025-08-14"
          },
          "pago": {
            "type": "string",
            "example": "N"
          },
          "idContrato": {
            "type": "number",
            "example": 1
          }
        }
      }
    },
    "securitySchemes": {
      "apiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "apiKey",
        "description": "chave para autenticacao da api"
      }
    }
  }
}